<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>DRŚYA Options</title>
<style>
  body{font:14px system-ui;margin:16px;color:#111}
  label{display:block;margin-bottom:8px;font-weight:600}
  input{width:360px;padding:8px;border:1px solid #ccc;border-radius:6px}
  button{margin-top:12px;padding:8px 12px;border:none;border-radius:6px;background:#1f6feb;color:#fff;font-weight:700;cursor:pointer}
  .note{margin-top:10px;color:#666}
</style>
</head>
<body>
  <h2>DRŚYA Options</h2>
  <label for="url">Server Base URL</label>
  <input id="url" placeholder="http://127.0.0.1:5000" />
  <button id="save">Save</button>
  <div class="note">Leave blank to use the default.</div>
<script>
  const api = typeof browser !== "undefined" ? browser : chrome;
  (async () => {
    const { baseURL } = await api.storage.local.get("baseURL");
    document.getElementById('url').value = baseURL || 'http://127.0.0.1:5000';
  })();
  document.getElementById('save').addEventListener('click', async ()=>{
    const api2 = typeof browser !== "undefined" ? browser : chrome;
    const v = document.getElementById('url').value.trim() || 'http://127.0.0.1:5000';
    await api2.storage.local.set({ baseURL: v });
    alert('Saved.');
  });
</script>
</body>
</html>

